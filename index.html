<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Selamat</title>
    <style>
        @import url('https://pro.fontawesome.com/releases/v6.0.0-beta1/css/all.css');
        @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap");
        @import "compass/css3";

        html,
        body {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
            background: black;
            overflow: hidden; /* Mencegah scroll bar muncul */
            font-family: "Poppins", sans-serif;
        }

        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
        }

        /* --- STYLE KARTU --- */
        .grid-container {
            position: relative;
            z-index: 10;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem; /* Padding luar agar tidak mepet layar HP */
            box-sizing: border-box;
            transition: opacity 0.5s ease;
        }

        .card {
            --grad: red, blue;
            /* Padding responsif: 2.5rem di PC, 1.5rem di HP */
            padding: 2.5rem; 
            background-image: linear-gradient(to bottom left, #e0e4e5, #f2f6f9);
            border-radius: 2rem;
            gap: 1rem;
            display: flex;
            flex-direction: column;
            width: min(100%, 500px); /* Maksimal lebar kartu */
            max-height: 90vh; /* Agar kartu tidak lebih tinggi dari layar */
            overflow-y: auto; /* Jika konten kepanjangan, bisa discroll di dalam kartu */
            color: #444447;
            animation:
                slideInUp 1.2s cubic-bezier(0.25, 1, 0.5, 1) forwards,
                floatWobble 4s ease-in-out infinite 1.2s;
            opacity: 0;
            position: relative;
        }

        /* Header Kartu (Judul & Icon) */
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .card.keluar {
            animation: slideOutDown 1.5s cubic-bezier(0.55, 0.085, 0.68, 0.53) forwards;
            animation-play-state: running !important;
            pointer-events: none;
        }

        .card:hover {
            animation-play-state: paused;
        }

        .card .title {
            font-size: 1.5rem;
            text-transform: uppercase;
            font-weight: 600;
            line-height: 1.2;
        }

        .card .icon {
            font-size: 2.5rem;
        }

        .card .icon>i {
            display: inline-block;
            color: transparent;
            background: linear-gradient(to right, var(--grad));
            background-clip: text;
            -webkit-background-clip: text;
            animation: spinPulse 6s cubic-bezier(0.8, 0, 0.2, 1) infinite;
        }

        .card .content p {
            margin-top: 0;
            margin-bottom: 1.5rem;
            line-height: 1.5;
            font-size: 0.95rem; /* Sedikit mengecilkan font text */
        }

        .card::after {
            content: "";
            display: block;
            height: 2px;
            background-image: linear-gradient(90deg, var(--grad));
            margin-top: auto; /* Dorong garis ke paling bawah */
            width: 100%;
        }

        /* --- TOMBOL --- */
        .btn-donate {
            --clr-font-main: hsla(0 0% 20% / 100);
            --btn-bg-1: hsla(194 100% 69% / 1);
            --btn-bg-2: hsla(217 100% 56% / 1);
            --btn-bg-color: hsla(360 100% 100% / 1);
            --radii: 0.5em;
            cursor: pointer;
            padding: 0.9em 1.4em;
            width: 100%; /* Tombol full width di dalam flex */
            max-width: 200px;
            font-size: 1rem;
            font-weight: 500;
            transition: 0.8s;
            background-size: 280% auto;
            background-image: linear-gradient(325deg, var(--btn-bg-2) 0%, var(--btn-bg-1) 55%, var(--btn-bg-2) 90%);
            border: none;
            border-radius: var(--radii);
            color: var(--btn-bg-color);
            box-shadow: 0px 0px 20px rgba(71, 184, 255, 0.5), 0px 5px 5px -1px rgba(58, 125, 233, 0.25), inset 4px 4px 8px rgba(175, 230, 255, 0.5), inset -4px -4px 8px rgba(19, 95, 216, 0.35);
            align-self: center;
        }

        .btn-donate:hover { background-position: right top; }
        .btn-donate:is(:focus, :focus-visible, :active) { outline: none; box-shadow: 0 0 0 3px var(--btn-bg-color), 0 0 0 6px var(--btn-bg-2); }

        /* --- STYLE TEKS (COSMIC) --- */
        :root {
            --size: 100px; /* Default Desktop */
            --font-size: 3.5rem;
        }

        .name {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column; /* Ubah jadi kolom (atas-bawah) */
            align-items: center;
            z-index: 5;
            opacity: 0;
            pointer-events: none;
            transition: opacity 2s ease-in;
            width: 100%;
        }
        
        /* Container per kata (HAPPY dan BIRTHDAY dipisah) */
        .word {
            display: flex;
            justify-content: center;
            flex-wrap: nowrap; /* Jangan biarkan huruf turun ke bawah dalam satu kata */
        }

        @keyframes kelapKelip {
            0%, 100% { filter: drop-shadow(0 0 1.5rem var(--color)) brightness(1.2); height: 100%; }
            50% { filter: drop-shadow(0 0 0.5rem var(--color)) brightness(0.8); height: 90%; }
        }

        .name .cosmic {
            position: relative;
            height: var(--size);
            width: calc(var(--size) * 0.8); /* Lebar huruf menyesuaikan tinggi */
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 2px;
        }

        .name .cosmic span {
            font-size: var(--font-size);
            font-weight: 700;
            -webkit-text-stroke: 2px var(--color);
            color: transparent;
            transition: 0.5s;
        }

        .name .cosmic::before {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            font-size: var(--font-size);
            height: 0;
            font-weight: 700;
            overflow: hidden;
            transition: 0.6s ease-in-out;
            text-align: center;
            line-height: var(--size);
            color: var(--color);
        }

        .name.muncul { opacity: 1; }
        .name.muncul .cosmic::before { height: 100%; animation: kelapKelip 1.5s infinite alternate; }
        .name.muncul .cosmic span { opacity: 0; }

        /* --- KEYFRAMES --- */
        @keyframes slideInUp { 0% { transform: translateY(100vh); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } }
        @keyframes slideOutDown { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(120vh); opacity: 0; } }
        @keyframes floatWobble { 0%, 100% { transform: translateY(0); box-shadow: inset -2px 2px hsl(0 0 100% / 1), -20px 20px 40px hsl(0 0 0 / .25); } 50% { transform: translateY(-15px); box-shadow: inset -2px 2px hsl(0 0 100% / 1), -20px 50px 60px hsl(0 0 0 / .15); } }
        @keyframes spinPulse { 0%, 90% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- MEDIA QUERY KHUSUS HP --- */
        @media (max-width: 600px) {
            :root {
                --font-size: 2rem; /* Kecilkan font teks cosmic */
                --size: 50px; /* Kecilkan kotak teks cosmic */
            }
            
            .card {
                padding: 1.5rem; /* Padding kartu lebih tipis */
                gap: 0.8rem;
                width: 90%; /* Lebar kartu 90% layar HP */
            }
            
            .card .title { font-size: 1.2rem; }
            .card .content p { font-size: 0.85rem; }
            .btn-donate { font-size: 0.9rem; padding: 0.8em 1em; }
            
            /* Jarak antara kata HAPPY dan BIRTHDAY */
            .word + .word {
                margin-top: 10px; 
            }
        }
    </style>
</head>

<body>

    <canvas id="canvas"></canvas>

    <div class="name" id="nameText">
        
        <div class="word">
            <div class="cosmic" style="--color: #23b1d8" data-text="H"><span>H</span></div>
            <div class="cosmic" style="--color: #dc5fe2" data-text="A"><span>A</span></div>
            <div class="cosmic" style="--color: #b733f9" data-text="P"><span>P</span></div>
            <div class="cosmic" style="--color: #a0de59" data-text="P"><span>P</span></div>
            <div class="cosmic" style="--color: #83d1ad" data-text="Y"><span>Y</span></div>
        </div>

        <div class="word">
            <div class="cosmic" style="--color: #f7b500" data-text="B"><span>B</span></div>
            <div class="cosmic" style="--color: #83d1ad" data-text="I"><span>I</span></div>
            <div class="cosmic" style="--color: #a0de59" data-text="R"><span>R</span></div>
            <div class="cosmic" style="--color: #b733f9" data-text="T"><span>T</span></div>
            <div class="cosmic" style="--color: #dc5fe2" data-text="H"><span>H</span></div>
            <div class="cosmic" style="--color: #23b1d8" data-text="D"><span>D</span></div>
            <div class="cosmic" style="--color: #b733f9" data-text="A"><span>A</span></div>
            <div class="cosmic" style="--color: #a0de59" data-text="Y"><span>Y</span></div>
        </div>

    </div>

    <div class="grid-container" id="cardContainer">
        <div class="card" id="mainCard">
            <div class="card-header">
                <div class="title">Selamat<br>Ulang Tahun ü§©</div>
                <div class="icon"><i class="fa-sharp-duotone fa-thin fa-star-christmas"></i></div>
            </div>
            
            <div class="content">
                <p>Selamat ulang tahun! Di hari yang sangat istimewa ini, aku berharap semoga kesehatan, kebahagiaan, dan keberkahan selalu menyertai setiap langkahmu ke depannya. Semoga di usiamu yang baru ini, segala impian dan cita-citamu semakin dekat untuk tercapai, serta hari-harimu dipenuhi dengan tawa dan orang-orang yang tulus menyayangimu. Tetaplah menjadi pribadi yang luar biasa, nikmati harimu, dan jangan pernah lelah untuk mengejar apa yang kamu impikan!</p>
                <button class="btn-donate" onclick="hilangkanCard()">Makasiüòç</button>
            </div>
        </div>
    </div>

    <script>
        var hilangkanCard;

        (function () {
            'use strict';
            var canvas = document.querySelector('canvas'),
                ctx = canvas.getContext('2d'),
                W = canvas.width = window.innerWidth,
                H = canvas.height = window.innerHeight,
                maxP = 700,
                minP = 1000,
                fireworks = [],
                timerId;

            // Update ukuran canvas saat layar diputar/diubah ukurannya
            window.addEventListener('resize', function() {
                W = canvas.width = window.innerWidth;
                H = canvas.height = window.innerHeight;
            });

            function tick() {
                var newFireworks = [];
                ctx.clearRect(0, 0, W, H);
                fireworks.forEach(function (firework) {
                    firework.draw();
                    if (!firework.done) newFireworks.push(firework);
                });
                fireworks = newFireworks;
                window.requestAnimationFrame(tick);
            }

            function Vector(x, y) {
                this.x = x;
                this.y = y;
            }
            Vector.prototype = {
                constructor: Vector,
                add: function (vector) {
                    this.x += vector.x;
                    this.y += vector.y;
                },
                diff: function (vector) {
                    var target = this.copy();
                    return Math.sqrt((target.x -= vector.x) * target.x + (target.y -= vector.y) * target.y);
                },
                copy: function () {
                    return new Vector(this.x, this.y);
                }
            };

            var colors = [
                ['rgba(179,255,129,', 'rgba(0,255,0,'],
                ['rgba(0,0,255,', 'rgba(100,217,255,'],
                ['rgba(255,0,0,', 'rgba(255,255,0,'],
                ['rgba(145,0,213,', 'rgba(251,144,204,']
            ];

            function Firework(start, target, speed, isSpecial) {
                this.start = start;
                this.pos = this.start.copy();
                this.target = target;
                this.isSpecial = isSpecial;
                this.spread = isSpecial ? 3000 : Math.round(Math.random() * (maxP - minP)) + minP;
                this.distance = target.diff(start);

                if (isSpecial) {
                    this.speed = 12;
                } else {
                    this.speed = speed || Math.random() * 6 + 2;
                }

                this.angle = Math.atan2(target.y - start.y, target.x - start.x);
                this.velocity = new Vector(Math.cos(this.angle) * this.speed, Math.sin(this.angle) * this.speed);
                this.particals = [];
                this.prevPositions = [];
                var colorSet = colors[Math.round(Math.random() * (colors.length - 1))];
                for (var i = 0; i < this.spread; i++) {
                    this.particals.push(new Partical(target.copy(), colorSet, isSpecial));
                }
            }

            Firework.prototype = {
                constructor: Firework,
                draw: function () {
                    var last = this.prevPositions[this.prevPositions.length - 1] || this.pos;
                    ctx.beginPath();
                    ctx.moveTo(last.x, last.y);
                    ctx.lineTo(this.pos.x, this.pos.y);
                    ctx.strokeStyle = 'rgba(255,255,255,.7)';
                    ctx.stroke();
                    this.update();
                },
                update: function () {
                    if (this.start.diff(this.pos) >= this.distance) {
                        var newParticals = [];
                        this.particals.forEach(function (partical) {
                            partical.draw();
                            if (!partical.done) newParticals.push(partical);
                        });
                        this.particals = newParticals;
                        this.prevPositions = [];

                        if (this.isSpecial && !this.hasTriggeredResume) {
                            this.hasTriggeredResume = true;
                            
                            var textElement = document.getElementById('nameText');
                            textElement.classList.add('muncul');

                            for (var i = 0; i < 20; i++) {
                                setTimeout(function() {
                                    addFirework();
                                }, Math.random() * 1000);
                            }
                            
                            setTimeout(randomFirework, 3000);
                        }

                        if (!newParticals.length) this.done = true;
                    } else {
                        this.prevPositions.push(this.pos.copy());
                        if (this.prevPositions.length > 8) {
                            this.prevPositions.shift();
                        }
                        this.pos.add(this.velocity);
                    }
                }
            };

            function Partical(pos, colors, isSpecial) {
                this.pos = pos;
                if (isSpecial) {
                    this.ease = 0.015;
                    this.speed = Math.random() * 8 + 4;
                    this.gravity = 0.03;
                    this.decay = 0.003;
                } else {
                    this.ease = 0.2;
                    this.speed = Math.random() * 6 + 2;
                    this.gravity = Math.random() * 3 + 0.1;
                    this.decay = 0.01;
                }
                this.alpha = .8;
                this.angle = Math.random() * (Math.PI * 2);
                this.color = colors[Math.round(Math.random() * (colors.length - 1))];
                this.prevPositions = [];
            }

            Partical.prototype = {
                constructor: Partical,
                draw: function () {
                    var last = this.prevPositions[this.prevPositions.length - 1] || this.pos;
                    ctx.beginPath();
                    ctx.moveTo(last.x, last.y);
                    ctx.lineTo(this.pos.x, this.pos.y);
                    ctx.strokeStyle = this.color + this.alpha + ')';
                    ctx.stroke();
                    this.update();
                },
                update: function () {
                    if (this.alpha <= 0) {
                        this.done = true;
                    } else {
                        this.prevPositions.push(this.pos.copy());
                        if (this.prevPositions.length > 10) this.prevPositions.shift();
                        if (this.speed > 1) this.speed -= this.ease;
                        this.alpha -= this.decay;
                        this.gravity += 0.01;
                        this.pos.add({
                            x: Math.cos(this.angle) * this.speed,
                            y: Math.sin(this.angle) * this.speed + this.gravity
                        });
                    }
                }
            };

            function addFirework(target, isSpecial) {
                var startPos = new Vector(W / 2, H);
                target = target || new Vector(Math.random() * W, Math.random() * (H - 300));
                fireworks.push(new Firework(startPos, target, undefined, isSpecial));
            }

            canvas.addEventListener('click', function (e) {
                addFirework(new Vector(e.clientX, e.clientY))
            }, false);

            function randomFirework() {
                addFirework();
                timerId = window.setTimeout(randomFirework, Math.random() * 500);
            }

            hilangkanCard = function () {
                clearTimeout(timerId);

                var card = document.getElementById('mainCard');
                var container = document.getElementById('cardContainer');

                card.classList.add('keluar');

                setTimeout(function () {
                    container.style.display = 'none';
                    addFirework(new Vector(W / 2, H / 3), true);
                }, 1500);
            }

            tick();
            randomFirework();
        })();
    </script>
</body>

</html>